---
path: "/rails"
date: "2020-03-16"
title: "Ruby-01_:Symbol"
---

Ruby 手冊： https://ruby-doc.org/core-2.7.0/Symbol.html

---

許久沒有動筆寫寫有架構的文章，在程式老師們強力推薦下 Rocketgirl's blog 終於動工啦，期待她一天一天茁壯成為水噹噹的姑娘。

---

今天第一篇文章主題： Ruby 中的「**:symbol 符號**」究竟是啥東東呢？

恐怕談符號前得先淺談一下變數和字串：

### 變數 variable

- 命名使用英文字母、數字或底線的組合。舉例：  
  `rocket_100 = "mars"` <br> `year = 2020`<br>

  即 變數名 `rocket_100/ year` 指向 `=` 字串`mars` 或值`2020` <br>

### 字串 string

- 字串定義：包在 double quotes 或 single quote 中的文字，ex. "我是字串"

- `""`可以用 %Q 取代，`''`可以用 %q 取代  
  （使用時機：例如當字串中剛好有 I'm，除了用 I\'m 處理，也可以直接在小括號使用%q）

### 符號 :symbol

- `:Symbol` 如同一個「有名字的物件」，本身不像上述的「變數」需要指向(assign)給一個字串或值，可以直接拿來用
- Symbol 看做是一種「不可變(immutable)的字串」

不可當變數，而且萬一符號可以當變數，那 hash 就沒必要指定符號當 key 了

**試著把符號當數字看**

只要是一樣的 Symbol，就會有相同的.object_id

### 比較

`.object_id`
字串每次都會有不同的 `object_id`, 代表用完就收回去，不佔記體
符號會保持相同.object_id，所以算是一直保持相同記憶體（具體來說 Ruby 已經修掉這個可能拖垮記憶體的問題）
一但符號使用很多，就會拖慢效能
符號量少的狀況下，效能比字串快
freeze string

雖然也可以把 Symbol 當字串用，但畢竟 Symbol 類別內建的方法不像字串類別那 麼豐富，所以如果你想要用字串那些好用的功能，就選擇用字串而不要選擇 Symbol。
又，如果你只是想在畫面上把內容印出來，那就選用字串，是因為 Symbol 被輸出 的時候，還是會先轉型成字串，所以效能就又差了那麼一點點。

---

### hash 散列
